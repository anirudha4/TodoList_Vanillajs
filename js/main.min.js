function qs(t){return document.querySelector(t)}function ce(t){return document.createElement(t)}function appendNode(t,e){return t.append(e)}const state=[];function loadFromLocalStorage(){if(localStorage.getItem("todos")){console.log(state);let t=localStorage.getItem("todos");t=JSON.parse(t),state.push(...t),updateUI()}else localStorage.setItem("todos",[])}function updateUI(){if(state.length>0)todoList.innerHTML="",state.forEach(({todo:t,completed:e,id:o})=>{const a=ce("li");a.classList.add("list-item");const d=ce("div");if(d.addEventListener("click",handleComplete),d.id=o,e){d.classList.add("complete");const t=ce("i");t.className="fas fa-check",appendNode(d,t)}const s=ce("span");s.classList.add("deleteBtn");const n=ce("i");n.className="fas fa-times",appendNode(s,n),s.setAttribute("data-id",o),n.style.pointerEvents="none",s.addEventListener("click",handleDelete),d.classList.add("circle");const l=ce("div");appendNode(a,s),l.classList.add("text"),l.textContent=t,appendNode(a,d),appendNode(a,l),appendNode(todoList,a)});else{todoList.innerHTML="";const t=ce("li");t.classList.add("list-item");const e=ce("div");e.textContent="No todos",appendNode(t,e),appendNode(todoList,t)}}function handleDelete(t){const e=t.target.getAttribute("data-id"),o=JSON.parse(localStorage.getItem("todos"));localStorage.setItem("todos",JSON.stringify(o.filter(t=>t.id!=e))),state.length=0,loadFromLocalStorage(),updateUI()}function handleComplete(t){const e=state.map(e=>(t.target.id==e.id&&(e.completed=!e.completed),e));localStorage.setItem("todos",JSON.stringify(e)),updateUI(),tabs.forEach(t=>{t.classList.contains("active")&&handleListChange(t.textContent)})}function handleSubmit(t){t.preventDefault(),""!=todoInput.value&&(todo={todo:todoInput.value,completed:!1,id:Math.floor(1e4*Math.random())},state.push(todo),localStorage.setItem("todos",JSON.stringify(state)),console.log(state),updateUI(),todoInput.value="")}const todoForm=qs("#todo-form"),todoInput=qs("#todo-form input"),todoList=qs(".list");todoForm.addEventListener("submit",handleSubmit),loadFromLocalStorage();